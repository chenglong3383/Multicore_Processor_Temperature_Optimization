function [TM] = intel6700fftThermalModel()
% TM: the thermal model, members are:
% lc_a/lc_i:    linear coefficient of DE in active/idel mode
% ua/ui:        the vector of the constant of DE in active/idle mode
% initT:        the initial temperature
% fftH:         the fourier transform of impulse response of the thermal LTI system.
%               should be a N times N matrix
% T_inf_a:      the state steady temperature in active mode
% coreIdx:      indicates which nodes are cores.
% p:            resolution of time vector
% tend:         tend(i,j) indicates where H(:,i,j) become 0
% isCore:       if node(i) is a core, 1 is / 0 not
% Tconstmax:    the constant impulse from non-core nodes
% n:            number of processing components
% N:            number of nodes
% sizet1.96189	0.00000	-1.26667	-0.63333	-0.06189	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
% recommend: t = 0:0.0004:35;
t = 0:0.001:50;
p = 0.00001;
name = 'intel6700cores';
INVC = diag([70.25262	70.25262	70.25262	70.25262	1229.42084	1229.42084	1229.42084	1229.42084	27.70526	27.70526	27.70526	27.70526	4.70967	4.70967	4.70967	4.70967	3.03571	3.03571	2.32775	2.32775	0.51605	0.51605	0.39570	0.39570	0.08593	0.08593	0.08593	0.08593]);
    
SplusG = [5.98496	-0.18013	-0.07994	0.00000	-5.72488	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
-0.18013	5.98496	0.00000	-0.07994	0.00000	-5.72488	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
-0.07994	0.00000	5.98496	-0.18013	0.00000	0.00000	-5.72488	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	-0.07994	-0.18013	5.98496	0.00000	0.00000	0.00000	-5.72488	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
-5.72488	0.00000	0.00000	0.00000	11.83159	-0.00012	-0.00005	0.00000	-6.10654	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	-5.72488	0.00000	0.00000	-0.00012	11.83159	0.00000	-0.00005	0.00000	-6.10654	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	-5.72488	0.00000	-0.00005	0.00000	11.83159	-0.00012	0.00000	0.00000	-6.10654	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	-5.72488	0.00000	-0.00005	-0.00012	11.83159	0.00000	0.00000	0.00000	-6.10654	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	-6.10654	0.00000	0.00000	0.00000	19.83105	-0.60044	-0.26647	0.00000	-12.21308	0.00000	0.00000	0.00000	-0.26795	0.00000	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	-6.10654	0.00000	0.00000	-0.60044	19.83105	0.00000	-0.26647	0.00000	-12.21308	0.00000	0.00000	-0.26795	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-6.10654	0.00000	-0.26647	0.00000	19.83105	-0.60044	0.00000	0.00000	-12.21308	0.00000	0.00000	-0.26795	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-6.10654	0.00000	-0.26647	-0.60044	19.83105	0.00000	0.00000	0.00000	-12.21308	0.00000	-0.26795	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-12.21308	0.00000	0.00000	0.00000	13.74333	-0.60044	-0.26647	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	0.00000	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-12.21308	0.00000	0.00000	-0.60044	13.74333	0.00000	-0.26647	0.00000	0.00000	0.00000	0.00000	-0.26795	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-12.21308	0.00000	-0.26647	0.00000	13.74333	-0.60044	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-12.21308	0.00000	-0.26647	-0.60044	13.74333	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	-0.26795	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	111.99782	0.00000	0.00000	0.00000	-111.46192	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	-0.26795	0.00000	0.00000	0.00000	0.00000	0.00000	111.99782	0.00000	0.00000	0.00000	-111.46192	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.37657	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	146.11506	0.00000	0.00000	0.00000	-145.36192	0.00000	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.37657	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	146.11506	0.00000	0.00000	0.00000	-145.36192	0.00000	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	-0.26795	0.00000	0.00000	-111.46192	0.00000	0.00000	0.00000	113.04594	0.00000	0.00000	0.00000	-0.87637	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.26795	-0.26795	0.00000	-111.46192	0.00000	0.00000	0.00000	113.04594	0.00000	0.00000	0.00000	-0.87637	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.37657	0.00000	-0.37657	0.00000	0.00000	-145.36192	0.00000	0.00000	0.00000	147.16341	0.00000	0.00000	0.00000	-0.82437	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.37657	0.00000	-0.37657	0.00000	0.00000	0.00000	0.00000	-145.36192	0.00000	0.00000	0.00000	147.16341	0.00000	0.00000	0.00000	-0.82437	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.87637	0.00000	0.00000	0.00000	1.90776	0.00000	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.87637	0.00000	0.00000	0.00000	1.90776	0.00000	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.82437	0.00000	0.00000	0.00000	1.85576	0.00000	
0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	0.00000	-0.82437	0.00000	0.00000	0.00000	1.85576];
    
g_amb = [0.01882	0.01882	0.01882	0.01882	0.00000	0.00000	0.00000	0.00000	0.17174	0.17174	0.22398	0.22398	1.03139	1.03139	1.03139	1.03139];
    
g0 = zeros(1, size(SplusG,2) - size(g_amb,2));
StimesT0 = [g0, g_amb*300];
StimesT0 = StimesT0';


cores = 4;
alpha_a = diag([0.042 * ones(1, cores), zeros(1, size(INVC,2)-cores)]);
alpha_i = alpha_a;

beta_a = [13 * ones(1, cores), zeros(1, size(INVC,2)-cores)]';
beta_i = [-7.0 * ones(1, cores), zeros(1, size(INVC,2)-cores)]';



data = struct('INVC',INVC, 'SplusG',SplusG, 'g_amb',g_amb, 'StimesT0',StimesT0, ...
    'alpha_a',alpha_a, 'alpha_i',alpha_i, 'beta_a',beta_a, 'beta_i',beta_i, 't',t...
    , 'name',name, 'p', p);

[TM] = MultiCoreProcessorThermalModel(data);
